<div fxLayout="row" fxLayoutAlign="end center" *ngIf="filtrosEspecieCosecha && cuenta" fxLayoutGap="5px">

  <!--Especies-->
  <div fxFlex="nogrow" class="boton-container">
    <button mat-button [matMenuTriggerFor]="menuProductos" [disabled]="disabled">
      {{ leyendaFiltroProducto() }}<mat-icon>expand_more</mat-icon>
    </button>
    <mat-menu #menuProductos="matMenu">
      <button mat-menu-item (click)="seleccionarProducto(null)"
        [ngClass]="{'activo': especie === null, 'inactivo': especie !== null }">
        Todos los productos
      </button>
      <button mat-menu-item *ngFor="let unaEspecie of filtrosEspecieCosecha.especies"
        (click)="seleccionarProducto(unaEspecie)"
        [ngClass]="{'activo': especie === unaEspecie, 'inactivo': especie !== unaEspecie }">
        {{unaEspecie.especieDescripcion}}
      </button>
    </mat-menu>
  </div>

  <!--Cosechas-->
  <div fxFlex="nogrow" class="boton-container">
    <button mat-button [matMenuTriggerFor]="menuCosechas" [disabled]="disabled">
      {{ leyendaFiltroCampania() }}<mat-icon>expand_more</mat-icon>
    </button>
    <mat-menu #menuCosechas="matMenu">
      <button mat-menu-item (click)="seleccionarCampania(null)"
        [ngClass]="{'activo': cosecha === null, 'inactivo': cosecha !== null }">
        Todas las campa√±as
      </button>
      <button mat-menu-item *ngFor="let unaCosecha of filtrosEspecieCosecha.cosechas"
        (click)="seleccionarCampania(unaCosecha)"
        [ngClass]="{'activo': cosecha === unaCosecha, 'inactivo': cosecha !== unaCosecha }">
        {{unaCosecha.cosechaDescripcion}}
      </button>
    </mat-menu>
  </div>

  <!--Personalizado-->
  <div fxFlex="nogrow" class="boton-container" *ngIf="filtroPersonalizado && filtroPersonalizado.length > 0">
    <button mat-button [matMenuTriggerFor]="menuPersonalizado" [disabled]="disabled">
      {{ leyendaFiltroPersonalizado() }}<mat-icon>expand_more</mat-icon>
    </button>
    <mat-menu #menuPersonalizado="matMenu">
      <button mat-menu-item (click)="seleccionarOpcionPersonalizada(null)"
        [ngClass]="{'activo': filtroPersonalizadoSeleccionado === null, 'inactivo': filtroPersonalizadoSeleccionado !== null }">
        {{ filtroPersonalizadoLabelDefault }}
      </button>
      <button mat-menu-item *ngFor="let unFiltro of filtroPersonalizado"
        (click)="seleccionarOpcionPersonalizada(unFiltro)"
        [ngClass]="{'activo': filtroPersonalizadoSeleccionado === unFiltro, 'inactivo': filtroPersonalizadoSeleccionado !== unFiltro }">
        {{unFiltro.descripcion}}
      </button>
    </mat-menu>
  </div>

  <!--Fecha desde-->
  <div fxFlex="nogrow" class="boton-container" style="overflow: hidden">
    <input readonly [(ngModel)]="fechaDesde" matInput [matDatepicker]="desde" class="input-fecha" placeholder="Desde">
    <mat-datepicker-toggle matSuffix [for]="desde" [disabled]="disabled"></mat-datepicker-toggle>
    <mat-datepicker touchUi #desde></mat-datepicker>
  </div>

  <!--Fecha hasta-->
  <div fxFlex="nogrow" class="boton-container" style="overflow: hidden">
    <input readonly [(ngModel)]="fechaHasta" matInput [matDatepicker]="hasta" class="input-fecha" placeholder="Hasta">
    <mat-datepicker-toggle matSuffix [for]="hasta" [disabled]="disabled"></mat-datepicker-toggle>
    <mat-datepicker touchUi #hasta></mat-datepicker>
  </div>

  <!--Ejecutar filtro-->
  <div fxFlex="nogrow">
    <button mat-icon-button (click)="aplicar()" [disabled]="disabled" matTooltip="Buscar">
      <mat-icon>navigate_next</mat-icon>
    </button>
  </div>
</div>